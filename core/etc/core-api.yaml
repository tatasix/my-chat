Name: core-api
Host: 0.0.0.0
Port: 7888

MaxConns: 100                                       # 将 qps 限制为 100
Ip: localhost                                       # 项目IP
Mysql:                                              # mysql配置
  DataSource: chat:123456@tcp(localhost:43306)/chat?charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai # 数据库连接地址 自建最好修改下密码

RedisCache:                                         # redis缓存配置
  - Host: localhost:46379                               # redis缓存地址
    Pass: "123456"                                  # redis缓存密码 自建最好修改下密码
Redis:                                         # redis缓存配置
  Host: localhost:46379                               # redis缓存地址
  Pass: "123456"                                  # redis缓存密码 自建最好修改下密码

Log:
  stat: false
  Path: "/var/log/chat/"
  Mode: "console"       # default=console,options=[console,file,volume]
  Level: "debug"        #    default=info,options=[debug,info,error,severe]
  KeepDays: 5
Auth:                                               # jwt配置（可选）自建最好修改下
  AccessSecret: "Esicy1Y1jlMr"                   # jwt加密密钥(可选) 默认为 13450cd8841c0f0
  AccessExpire: 25920000                            # jwt过期时间(可选) 默认为 25920000

FrontendAuth:                                               # 前端jwt配置
  AccessSecret: "Esicy3Y4jlMr"                   # jwt加密密钥(可选)
  AccessExpire: 25920000                            # jwt过期时间(可选) 30天

WeCom:                                              # 企业微信配置
  Port: 8887                                            # 企业微信回调监听端口（可选）默认为8887
  CustomerServiceSecret: "BcOBuIUpZgeNmiYwvGAZpAr4W2sIMeB7fhVx4iovu2Q"           # 企业微信客服消息 Secret
  CorpID: "wwe1a278ad0ce1c455"                  # 企业微信 CorpID
  DefaultAgentSecret: "fz_LrUUxWA4pC1HEu-81Y8vnDsbxsBUFkPYM4kGSALw"     # 企业微信应用 Secret
  BasePrompt: "你是 ChatGPT， 一个由 OpenAI 训练的大型语言模型， 你旨在回答并解决人们的任何问题，并且可以使用多种语言与人交流。"                                  # openai 基础设定（可选）
  Model: "text-davinci-003"                                                                                                                     # openai 模型（可选）默认为 gpt-3.5-turbo-0301
  Welcome: "您好！我是 ChatGPT，一个由 OpenAI 训练的大型语言模型，我可以回答您的问题和进行交流。请告诉我您需要了解些什么，我会尽力为您提供答案。发送#help 查看更多功能"  # 进入应用时的欢迎语（可选）
  Token: "sGU5GpMnfaKKmVqoFtqJQDC1imRNWJgM"                               # 企业微信应用/客服消息 Token
  EncodingAESKey: "7lPPxT2UTqaZ80tbORDeo4C4rpRABQ3FdAywtxQkRb5"                # 企业微信应用/客服消息 EncodingAESKey
  MultipleApplication:                              # 多应用配置（可选）
    - AgentID: 1000002                                # 企业微信应用ID
      AgentSecret: "fz_LrUUxWA4pC1HEu-81Y8vnDsbxsBUFkPYM4kGSALw"     # 企业微信应用 Secret
      Model: "gpt-3.5-turbo"                          # openai 模型（可选）默认为 gpt-3.5-turbo-0301
      BasePrompt: "You are a helpful assistant. When given CONTEXT you answer questions using only that information,and you always format your output in markdown.Answer with chinese." # openai 基础设定（可选）
      Welcome: "您好！我是 ChatGPT，一个由 OpenAI 训练的大型语言模型，我可以回答您的问题和进行交流。请告诉我您需要了解些什么，我会尽力为您提供答案。发送#help 查看更多功能"  # 进入应用时的欢迎语
      EmbeddingEnable: false  #是否启用embedding
      EmbeddingMode: "QA" #embedding的搜索模式
      Score: "" #分数
      TopK: 1 #topK
    - AgentID: 1000003                                # 企业微信应用ID
      AgentSecret: "fz_LrUUxWA4pC1HEu-81Y8vnDsbxsBUFkPYM4kGSALw"     # 企业微信应用 Secret
      Model: "gpt-3.5-turbo"                          # openai 模型（可选）默认为 gpt-3.5-turbo-0301
      BasePrompt: "You are a helpful assistant. When given CONTEXT you answer questions using only that information,and you always format your output in markdown.Answer with chinese." # openai 基础设定（可选）
      Welcome: "您好！我是 ChatGPT，一个由 OpenAI 训练的大型语言模型，我可以回答您的问题和进行交流。请告诉我您需要了解些什么，我会尽力为您提供答案。发送#help 查看更多功能"  # 进入应用时的欢迎语
      EmbeddingEnable: false  #是否启用embedding
      EmbeddingMode: "ARTICLE" #embedding的搜索模式
      Score: "0.3" #分数
      TopK: 3 #topK
  MultipleCustomer:                                  # 多客服配置（可选）
    - OpenKfId: "tata-customer1"
      EmbeddingEnable: true  #是否启用embedding
      EmbeddingMode: "ARTICLE" #embedding的搜索模式
      Score: "0.3" #分数
      TopK: 3 #topK
    - OpenKfId: "tata-customer2"
      EmbeddingEnable: true  #是否启用embedding
      EmbeddingMode: "QA" #QA
      Score: "0" #分数
      TopK: 1 #topK
OpenAi:                                             # openai配置
  Key:
    - "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"
    - "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"
    - "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"
    - "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"
    - "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"
    - "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"
    - "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"
    - "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"
    - "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"
  Host: "https://api.openai.com"                    # openai host （可选，使用cf进行反向代理时，修改可用）

Proxy:                                             # 代理配置 （可选）
  Enable: false                                     # 是否启用代理，默认为 false（可选）
  Socket5: "127.0.0.1:3213"                         # 代理地址 默认为 127.0.0.1:1080（可选）
  Http: "http://127.0.0.1:3213"                     # 代理地址 默认为空（可选）

OCR:                                                # OCR配置 ,开启图片识别（可选）
  Company: "ali"                                    # 识别公司，目前支持阿里云（可选）
  AliYun:                                           # 阿里云配置
    AccessKeyId: ""                                 # 阿里云 key
    AccessKeySecret: ""                             # 阿里云 secret

Embeddings:
  Enable: true
  Mode: "ARTICLE"  # embedding的搜索模式，QA：根据准备的问题和答案来回答。ARTICLE：根据文章内容来回答
  Milvus:
    Host: "43.153.76.9:19530"
    Username: "root"
    Password: "N1ja71eDxFY5"
    KeyWords:
      - "xx"

Response:                                           # 回复配置
  Stream: true                                    # 是否开启流式回复,自动断句推荐（可选）

Plugins:
  Enable: false
  Debug: true
  List:
    - NameForHuman: "日期_shell"
      NameForModel: "date_shell"
      DescForHuman: "这个插件可以提供日期相关的信息"
      DescModel: "This plugin can execute shell commands used to get the date."
      Auth:
        Type: "none"
      API:
        URL: "http://192.168.1.202:8886/api/webhook"
    - NameForHuman: "互联网查询"
      NameForModel: "search"
      DescForHuman: "这个插件可以提供最近实事的相关信息"
      DescModel: "This plugin can Useful for when you need to answer questions about current events. Input should be a search query."
      Auth:
        Type: "none"
      API:
        URL: "http://192.168.1.202:8885/chat"
    - NameForHuman: "维基百科查询"
      NameForModel: "wikipedia"
      DescForHuman: "这个插件可以提供关于人、地点、公司、历史事件或其他主题的一般性问题。"
      DescModel: "This plugin can Useful for when you need to answe  general questions about people, places, companies, historical events, or other subjects. Input should be a search query."
      Auth:
        Type: "none"
      API:
        URL: "http://192.168.1.202:8885/wikipedia"

Wechat:                                               # 微信公众号相关信息
  Secret: "Esicy1Y1jlMr"
  Appid: "wxa2d3b7f27a256e37"
  RedirectUrl: "https://api.baixiaomiao.ai/open/wechat-authorize"

Telemetry:
  Name: chat
  Endpoint: http://127.0.0.1:14268/api/traces
  Sampler: 1.0
  Batcher: jaeger